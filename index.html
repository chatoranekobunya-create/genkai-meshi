<!DOCTYPE html>

<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>é™ç•ŒåŸç¨¿ãƒ¡ã‚·ã‚¬ãƒãƒ£ï½œä¿®ç¾…å ´ã®é…çµ¦æ‰€</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
  :root {
    --yellow: #FFD700;
    --warn: #FF6B00;
    --danger: #FF2020;
    --bg: #0a0a0a;
    --panel: #141414;
    --border: #2a2a2a;
    --text: #e0e0e0;
    --muted: #666;
  }

- { box-sizing: border-box; }

body {
background-color: var(â€“bg);
color: var(â€“text);
font-family: â€˜Noto Sans JPâ€™, sans-serif;
min-height: 100vh;
overflow-x: hidden;
position: relative;
}

/* Scanline overlay */
body::before {
content: â€˜â€™;
position: fixed;
inset: 0;
background: repeating-linear-gradient(
0deg,
transparent,
transparent 2px,
rgba(0,0,0,0.15) 2px,
rgba(0,0,0,0.15) 4px
);
pointer-events: none;
z-index: 100;
}

/* Hazard stripe border */
.hazard-border {
background: repeating-linear-gradient(
-45deg,
var(â€“yellow),
var(â€“yellow) 10px,
#1a1a00 10px,
#1a1a00 20px
);
padding: 4px;
}

.hazard-border-inner {
background: var(â€“panel);
padding: 1.5rem;
}

/* Glitch text effect */
.glitch {
position: relative;
animation: glitch-skew 3s infinite linear alternate-reverse;
}
.glitch::before,
.glitch::after {
content: attr(data-text);
position: absolute;
left: 0; top: 0;
width: 100%; height: 100%;
}
.glitch::before {
color: #FF2020;
animation: glitch-anim 2s infinite linear alternate-reverse;
clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%);
transform: translate(-2px, 0);
}
.glitch::after {
color: #00FFFF;
animation: glitch-anim2 2.5s infinite linear alternate-reverse;
clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%);
transform: translate(2px, 0);
}

@keyframes glitch-anim {
0% { transform: translate(-2px, 0); }
20% { transform: translate(2px, 0); }
40% { transform: translate(-1px, 1px); }
60% { transform: translate(1px, -1px); }
80% { transform: translate(0, 0); }
100% { transform: translate(-2px, 0); }
}
@keyframes glitch-anim2 {
0% { transform: translate(2px, 0); }
20% { transform: translate(-2px, 0); }
60% { transform: translate(1px, 1px); }
80% { transform: translate(-1px, -1px); }
100% { transform: translate(2px, 0); }
}
@keyframes glitch-skew {
0% { transform: skew(0deg); }
85% { transform: skew(0deg); }
90% { transform: skew(-1deg); }
95% { transform: skew(1deg); }
100% { transform: skew(0deg); }
}

/* Blink animation */
@keyframes blink {
0%, 100% { opacity: 1; }
50% { opacity: 0; }
}
.blink { animation: blink 1s step-end infinite; }

/* Pulse warning */
@keyframes pulse-warn {
0%, 100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4); }
50% { box-shadow: 0 0 0 12px rgba(255, 215, 0, 0); }
}

/* Main button */
.main-btn {
background: var(â€“yellow);
color: #000;
font-family: â€˜Noto Sans JPâ€™, sans-serif;
font-weight: 900;
font-size: 1.1rem;
border: none;
cursor: pointer;
padding: 1.2rem 2rem;
width: 100%;
max-width: 400px;
position: relative;
clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%);
transition: all 0.15s;
letter-spacing: 0.05em;
animation: pulse-warn 2s infinite;
}
.main-btn:hover {
background: #fff;
transform: scale(1.03);
}
.main-btn:active {
transform: scale(0.97);
}
.main-btn:disabled {
opacity: 0.5;
cursor: not-allowed;
animation: none;
}

/* Share button */
.share-btn {
background: transparent;
color: var(â€“text);
font-family: â€˜Noto Sans JPâ€™, sans-serif;
font-weight: 700;
font-size: 0.85rem;
border: 1px solid var(â€“border);
cursor: pointer;
padding: 0.75rem 1.5rem;
width: 100%;
max-width: 400px;
transition: all 0.15s;
letter-spacing: 0.03em;
}
.share-btn:hover {
border-color: var(â€“yellow);
color: var(â€“yellow);
}

/* Amazon link */
.amazon-btn {
display: block;
background: #FF9900;
color: #000;
font-family: â€˜Noto Sans JPâ€™, sans-serif;
font-weight: 700;
padding: 1rem 1.5rem;
text-decoration: none;
text-align: center;
font-size: 0.95rem;
margin-top: 1rem;
clip-path: polygon(6px 0%, 100% 0%, calc(100% - 6px) 100%, 0% 100%);
transition: all 0.15s;
max-width: 400px;
}
.amazon-btn:hover {
background: #ffb733;
transform: scale(1.02);
}

/* Gauge */
.gauge-track {
background: #111;
border: 1px solid var(â€“border);
height: 20px;
position: relative;
overflow: hidden;
}
.gauge-fill {
height: 100%;
transition: width 0.05s linear;
position: relative;
}
.gauge-fill::after {
content: â€˜â€™;
position: absolute;
right: 0; top: 0; bottom: 0;
width: 3px;
background: rgba(255,255,255,0.8);
animation: blink 0.3s infinite;
}

/* Result card */
.result-card {
animation: slideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}
@keyframes slideIn {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}

/* Level badge */
.lv-badge {
font-family: â€˜Share Tech Monoâ€™, monospace;
font-size: 0.75rem;
padding: 2px 8px;
letter-spacing: 0.1em;
}

/* Status line */
.status-line {
font-family: â€˜Share Tech Monoâ€™, monospace;
font-size: 0.75rem;
color: var(â€“muted);
letter-spacing: 0.05em;
}

/* Measuring animation */
.measuring-text {
font-family: â€˜Share Tech Monoâ€™, monospace;
font-size: 0.85rem;
color: var(â€“yellow);
letter-spacing: 0.1em;
}

/* Warning stripes header */
.header-stripe {
background: repeating-linear-gradient(
90deg,
var(â€“yellow) 0px,
var(â€“yellow) 20px,
#000 20px,
#000 40px
);
height: 6px;
}

/* Mono font */
.mono { font-family: â€˜Share Tech Monoâ€™, monospace; }

/* Responsive */
.container-main {
max-width: 600px;
margin: 0 auto;
padding: 1rem;
}

/* Noise texture */
@keyframes noise {
0%, 100% { background-position: 0 0; }
10% { background-position: -5% -10%; }
30% { background-position: 3% 5%; }
50% { background-position: -3% 3%; }
70% { background-position: 0 -5%; }
90% { background-position: 3% 0; }
}

.item-highlight {
color: var(â€“yellow);
font-weight: 900;
}

/* Lv colors */
.lv1 { â€“lc: #4ade80; }
.lv2 { â€“lc: #facc15; }
.lv3 { â€“lc: #fb923c; }
.lvmax { â€“lc: #f87171; }

.lv-color { color: var(â€“lc); border-color: var(â€“lc); }
</style>

</head>
<body>

<!-- Header stripe -->

<div class="header-stripe"></div>

<div class="container-main py-6">

  <!-- Logo / Title -->

  <div class="text-center mb-8">
    <div class="status-line mb-2">â—† EMERGENCY SUPPLY STATION â—†</div>
    <h1 class="glitch text-3xl sm:text-4xl font-black mb-1 leading-tight" data-text="é™ç•ŒåŸç¨¿ãƒ¡ã‚·ã‚¬ãƒãƒ£" style="color: var(--yellow);">
      é™ç•ŒåŸç¨¿ãƒ¡ã‚·ã‚¬ãƒãƒ£
    </h1>
    <div class="text-sm font-bold tracking-widest" style="color: var(--warn);">
      â”€â”€ ä¿®ç¾…å ´ã®é…çµ¦æ‰€ â”€â”€
    </div>
    <p class="mt-3 text-xs" style="color: var(--muted);">
      åŸç¨¿ã§é™ç•Œã‚’è¿ãˆãŸã™ã¹ã¦ã®åŒäººä½œå®¶ãƒ»ã‚ªã‚¿ã‚¯ã¸<br>
      æ´—ã„ç‰©ã‚¼ãƒ­ã®é…çµ¦ç‰©è³‡ã‚’æä¾›ã—ã¾ã™
    </p>
  </div>

  <!-- Status panel -->

  <div class="hazard-border mb-6">
    <div class="hazard-border-inner">
      <div class="status-line mb-2">[ SYSTEM STATUS ]</div>
      <div class="grid grid-cols-2 gap-3 text-xs mono mb-3" style="color: var(--muted);">
        <div>DEADLINE: <span id="deadlineStatus" style="color: var(--danger);">CRITICAL</span></div>
        <div>DISHES: <span style="color: #4ade80;">ZERO</span></div>
        <div>CAFFEINE: <span style="color: var(--warn);">DEPLETED</span></div>
        <div>WILLPOWER: <span style="color: var(--danger);">0.001%</span></div>
      </div>
      <div class="status-line mb-1">SURVIVAL GAUGE</div>
      <div class="gauge-track">
        <div id="bgGauge" class="gauge-fill" style="width: 15%; background: linear-gradient(90deg, #4ade80, #facc15);"></div>
      </div>
      <div class="flex justify-between mt-1 text-xs mono" style="color: var(--muted);">
        <span>äººé–“</span>
        <span>ç€•æ­»</span>
      </div>
    </div>
  </div>

  <!-- Main Button -->

  <div class="flex flex-col items-center gap-4 mb-8">
    <button class="main-btn" id="gachaBtn" onclick="startGacha()">
      âš  é™ç•Œåº¦ã‚’æ¸¬å®šã—ã¦é…çµ¦ã‚’å—ã‘ã‚‹ âš 
    </button>
    <div class="status-line text-center text-xs">
      â€» é…çµ¦ç‰©è³‡ã¯ç®±è²·ã„æ¨å¥¨ã§ã™
    </div>
  </div>

  <!-- Measuring area -->

  <div id="measuringArea" class="hidden mb-6">
    <div class="border p-4 text-center" style="border-color: var(--yellow);">
      <div class="measuring-text mb-3" id="measuringText">SCANNING LIMIT LEVEL...</div>
      <div class="gauge-track mb-1">
        <div id="scanGauge" class="gauge-fill" style="width: 0%; background: var(--yellow);"></div>
      </div>
      <div class="measuring-text mt-2 text-xs" id="measuringDetail">ç”Ÿä½“åå¿œã‚’ç¢ºèªä¸­</div>
    </div>
  </div>

  <!-- Result area -->

  <div id="resultArea" class="hidden result-card">

```
<!-- Level display -->
<div class="mb-4 text-center">
  <div class="inline-block lv-badge border text-xs mb-2 lv-color" id="lvLabel">Lv.1</div>
  <div class="text-2xl font-black mb-1" id="lvTitle" style="color: var(--yellow);">ã¾ã äººé–“</div>
  <div class="text-sm" id="lvSituation" style="color: var(--muted); line-height: 1.7;"></div>
</div>

<!-- Item panel -->
<div class="hazard-border mb-4">
  <div class="hazard-border-inner">
    <div class="status-line mb-2">[ æœ¬æ—¥ã®é…çµ¦ç‰©è³‡ã¯ã“ã¡ã‚‰ã§ã™ï¼ˆç®±è²·ã„æ¨å¥¨ï¼‰ ]</div>
    <div class="text-base font-bold mb-4 item-highlight" id="itemName"></div>
    
    <a href="#" id="amazonLink1" class="amazon-btn" target="_blank" rel="noopener">
      ğŸ“¦ Amazonã§é…çµ¦ã‚’å—ã‘å–ã‚‹ï¼ˆæ¡ˆ1ï¼‰
    </a>
    <a href="#" id="amazonLink2" class="amazon-btn" target="_blank" rel="noopener">
      ğŸ“¦ Amazonã§é…çµ¦ã‚’å—ã‘å–ã‚‹ï¼ˆæ¡ˆ2ï¼‰
    </a>
  </div>
</div>

<!-- Share button -->
<div class="flex flex-col items-center gap-3">
  <button class="share-btn" id="shareBtn" onclick="shareToX()">
    ğŸ†˜ ç¾åœ¨ã®é™ç•ŒçŠ¶æ³ã‚’Xã«å ±å‘Šï¼ˆæ•‘æ´è¦è«‹ï¼‰ã™ã‚‹
  </button>
  <button class="share-btn" onclick="resetGacha()">
    ğŸ”„ å†æ¸¬å®šã™ã‚‹
  </button>
</div>
```

  </div>

  <!-- Footer -->

  <div class="mt-12 text-center">
    <div class="status-line text-xs" style="color: var(--border);">
      â”€â”€ é ‘å¼µã‚Œã€‚å®Œæˆã•ã›ã‚ã€‚ â”€â”€
    </div>
    <div class="text-xs mt-2" style="color: #333;">
      â€» Amazonã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ã‚’å«ã¿ã¾ã™
    </div>
  </div>

</div>

<script>
const LEVELS = [
  {
    id: 'lv1',
    label: 'Lv.1',
    title: 'ã¾ã äººé–“',
    colorClass: 'lv1',
    situation: 'ã¾ã å‘³è¦šã‚’æ¥½ã—ã‚€ä½™è£•ãŒã‚ã‚Šã¾ã™ã€‚\næ–‡æ˜ã®åˆ©å™¨ï¼ˆé›»å­ãƒ¬ãƒ³ã‚¸ï¼‰ã‚’ä½¿ã„ãªã•ã„ã€‚',
    item: 'ãƒˆãƒ¬ãƒ¼ä»˜ãå†·å‡é£Ÿå“ã‚»ãƒƒãƒˆ',
    keywords: ['å†·å‡ãƒ‘ã‚¹ã‚¿ ãƒˆãƒ¬ãƒ¼ä»˜ã ã‚»ãƒƒãƒˆ', 'å†·å‡ ãƒãƒ£ãƒ¼ãƒãƒ³ ãƒˆãƒ¬ãƒ¼ä»˜ã'],
    gaugeColor: '#4ade80',
    gauge: '30%'
  },
  {
    id: 'lv2',
    label: 'Lv.2',
    title: 'ãŠæ¹¯ãŒé™ç•Œ',
    colorClass: 'lv2',
    situation: 'é›»å­ãƒ¬ãƒ³ã‚¸ã®å¾…ã¡æ™‚é–“ã™ã‚‰æƒœã—ã„ã§ã™ã­ã€‚\nãŠæ¹¯ã‚’æ³¨ã„ã§3åˆ†è€ãˆãªã•ã„ã€‚',
    item: 'ã‚«ãƒƒãƒ—éººãƒ»ã‚¹ãƒ¼ãƒ—ã®ç®±è²·ã„',
    keywords: ['ã‚«ãƒƒãƒ—éºº ç®±è²·ã„', 'ã‚«ãƒƒãƒ—ã‚¹ãƒ¼ãƒ— è©°ã‚åˆã‚ã›'],
    gaugeColor: '#facc15',
    gauge: '60%'
  },
  {
    id: 'lv3',
    label: 'Lv.3',
    title: 'å’€åš¼ã®æ”¾æ£„',
    colorClass: 'lv3',
    situation: 'å™›ã‚€æ™‚é–“ã™ã‚‰åŸç¨¿ã«å›ã—ãŸã„æ¥µé™çŠ¶æ…‹ã€‚\nã“ã‚Œã‚’é£²ã‚“ã§ç”Ÿãå»¶ã³ãªã•ã„ã€‚',
    item: 'ã‚¼ãƒªãƒ¼é£²æ–™ãƒ»æ „é¤Šèª¿æ•´é£Ÿå“',
    keywords: ['inã‚¼ãƒªãƒ¼ ç®±è²·ã„', 'ã‚«ãƒ­ãƒªãƒ¼ãƒ¡ã‚¤ãƒˆ ãƒ–ãƒ­ãƒƒã‚¯ ç®±'],
    gaugeColor: '#fb923c',
    gauge: '80%'
  },
  {
    id: 'lvmax',
    label: 'Lv.MAX',
    title: 'ç”Ÿå‘½ç¶­æŒè£…ç½®',
    colorClass: 'lvmax',
    situation: 'å¥åº·ã¸ã®ç½ªæ‚ªæ„Ÿã¨æ „é¤Šå¤±èª¿ã®ç‹­é–“ã€‚\nã“ã‚Œä»¥ä¸Šã®ç„¡ç†ã¯ç¦ç‰©ã§ã™ã€å®Œå…¨é£Ÿã‚’æ‘‚å–ã—ãªã•ã„ã€‚',
    item: 'å®Œå…¨æ „é¤Šé£Ÿãƒ»é‡èœã‚¸ãƒ¥ãƒ¼ã‚¹',
    keywords: ['ãƒ™ãƒ¼ã‚¹ãƒ–ãƒ¬ãƒƒãƒ‰', 'é‡èœã‚¸ãƒ¥ãƒ¼ã‚¹ ç´™ãƒ‘ãƒƒã‚¯ ç®±è²·ã„'],
    gaugeColor: '#f87171',
    gauge: '99%'
  }
];

let currentLevel = null;

const AFFILIATE_TAG = 'otaku093-22';

function buildAmazonUrl(keyword) {
  return `https://www.amazon.co.jp/s?k=${encodeURIComponent(keyword)}&tag=${AFFILIATE_TAG}`;
}

const scanTexts = [
  'SCANNING LIMIT LEVEL...',
  'åŸç¨¿é‡ã‚’è§£æä¸­...',
  'ã‚«ãƒ•ã‚§ã‚¤ãƒ³è¡€ä¸­æ¿ƒåº¦ã‚’æ¸¬å®šä¸­...',
  'æœ€å¾Œã®å…¥æµ´æ—¥æ™‚ã‚’ç¢ºèªä¸­...',
  'å¾¹å¤œå›æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆä¸­...',
  'ç¾å®Ÿé€ƒé¿æŒ‡æ•°ã‚’ç®—å‡ºä¸­...',
  'é…çµ¦ç‰©è³‡ã‚’æ±ºå®šä¸­...'
];

const scanDetails = [
  'ç”Ÿä½“åå¿œã‚’ç¢ºèªä¸­',
  'Detecting caffeine level...',
  'åŸç¨¿é€²æ—ç‡: ???',
  'Sleep deprivation: CRITICAL',
  'Humanity remaining: calculating...',
  'Survival mode: ACTIVATING',
  'SUPPLY CONFIRMED'
];

function startGacha() {
  const btn = document.getElementById('gachaBtn');
  btn.disabled = true;

  document.getElementById('resultArea').classList.add('hidden');
  document.getElementById('measuringArea').classList.remove('hidden');

  let step = 0;
  let gaugeW = 0;
  const totalSteps = 70;

  const interval = setInterval(() => {
    step++;
    gaugeW = Math.min(100, (step / totalSteps) * 100);
    document.getElementById('scanGauge').style.width = gaugeW + '%';

    const textIdx = Math.floor((step / totalSteps) * scanTexts.length);
    document.getElementById('measuringText').textContent = scanTexts[Math.min(textIdx, scanTexts.length - 1)];
    document.getElementById('measuringDetail').textContent = scanDetails[Math.min(textIdx, scanDetails.length - 1)];

    if (step >= totalSteps) {
      clearInterval(interval);
      showResult();
    }
  }, 40);
}

function showResult() {
  const level = LEVELS[Math.floor(Math.random() * LEVELS.length)];
  currentLevel = level;

  document.getElementById('measuringArea').classList.add('hidden');

  // Update level display
  const lvLabel = document.getElementById('lvLabel');
  lvLabel.textContent = level.label;
  lvLabel.className = `inline-block lv-badge border text-xs mb-2 lv-color ${level.colorClass}`;

  document.getElementById('lvTitle').textContent = `ã€${level.title}ã€‘`;
  document.getElementById('lvSituation').textContent = level.situation;
  document.getElementById('itemName').textContent = `â–º ${level.item}`;

  // Amazon links
  document.getElementById('amazonLink1').href = buildAmazonUrl(level.keywords[0]);
  document.getElementById('amazonLink1').textContent = `ğŸ“¦ ${level.keywords[0]}`;
  document.getElementById('amazonLink2').href = buildAmazonUrl(level.keywords[1]);
  document.getElementById('amazonLink2').textContent = `ğŸ“¦ ${level.keywords[1]}`;

  // Gauge
  document.getElementById('bgGauge').style.width = level.gauge;
  document.getElementById('bgGauge').style.background = `linear-gradient(90deg, #4ade80, ${level.gaugeColor})`;

  const resultArea = document.getElementById('resultArea');
  resultArea.classList.remove('hidden');
  resultArea.style.animation = 'none';
  void resultArea.offsetWidth;
  resultArea.style.animation = 'slideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1)';
}

function shareToX() {
  if (!currentLevel) return;
  const text = `ç§ã®é™ç•Œãƒ¬ãƒ™ãƒ«ã¯ã€${currentLevel.label} ${currentLevel.title}ã€‘ã§ã—ãŸã€‚é…çµ¦ç‰©è³‡ã¯ã€${currentLevel.item}ã€‘ã§ã™ã€‚ #é™ç•ŒåŸç¨¿ãƒ¡ã‚·ã‚¬ãƒãƒ£ #ä¿®ç¾…å ´`;
  const url = window.location.href;
  const twitterUrl = `https://x.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
  window.open(twitterUrl, '_blank');
}

function resetGacha() {
  document.getElementById('resultArea').classList.add('hidden');
  document.getElementById('gachaBtn').disabled = false;
  currentLevel = null;
  document.getElementById('scanGauge').style.width = '0%';
  document.getElementById('bgGauge').style.width = '15%';
  document.getElementById('bgGauge').style.background = 'linear-gradient(90deg, #4ade80, #facc15)';
}

// Animate background gauge randomly on load
setInterval(() => {
  const w = 10 + Math.random() * 20;
  document.getElementById('bgGauge').style.width = w + '%';
}, 3000);
</script>

</body>
</html>